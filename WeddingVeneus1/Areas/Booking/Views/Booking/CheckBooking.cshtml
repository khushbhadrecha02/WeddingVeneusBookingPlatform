@using System.Data;
@using WeddingVeneus1.Areas.Booking.Models;
@model Booking_ViewModel
@{
    Layout = "~/Views/Shared/_Layout1.cshtml";
}
<div class="pagetitle">
    <h1>Form Layouts</h1>
    <nav>
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="index.html">Home</a></li>
            <li class="breadcrumb-item">Forms</li>
            <li class="breadcrumb-item active">Layouts</li>
        </ol>
    </nav>
</div><!-- End Page Title -->

@if (TempData["BookingStatus"] != null)
{
    <span>@TempData["BookingStatus"]</span>
}
<div class="col-lg-6">
<div class="card">
    <div class="card-body">
        <h5 class="card-title">Check Venue Availability</h5>
        
        @if(Model.CheckStatus != null)
        {
            <h5>Between provided booking dates the hall is booked on these dates.</h5>
            @foreach(DataRow dr in Model.CheckStatus.Rows)
            {
                <table>
                <tr>
                    <td>
                        <h4>@Convert.ToDateTime(dr["BookingStartDate"]).ToString("dd-MM-yy")</h4>

                    </td>
                    <td></td>
                    <td></td>
                        <td></td>
                    <td>
                        <h4>@Convert.ToDateTime(dr["BookingEndDate"]).ToString("dd-MM-yy")</h4>

                    </td>
                </tr>
                </table>

            }
        }

<form asp-area="Booking" asp-controller="Booking" asp-action="CheckBookingStatus" method="post">

<div class="row mb-3">
    

    <input asp-for="@Model.bookingModel.VenueID" hidden/>
                    <input asp-for="@Model.bookingModel.UserID" hidden />
    <label asp-for="@Model.bookingModel.BookingStartDate" class="col-sm-2 col-form-label"></label>
    <div class="col-sm-10">
        <input type="date" asp-for="@Model.bookingModel.BookingStartDate" class="form-control" id="inputStartDate">
    </div>
                    
    <span class="text-danger" asp-validation-for="@Model.bookingModel.BookingStartDate"></span>
</div>
<div class="row mb-3">


    <label asp-for="@Model.bookingModel.BookingEndDate" class="col-sm-2 col-form-label"></label>
    <div class="col-sm-10">
        <input type="date" asp-for="@Model.bookingModel.BookingEndDate" class="form-control" id="inputEndDate">
    </div>
                    
    <span class="text-danger" asp-validation-for="@Model.bookingModel.BookingEndDate"></span>
                    
    
</div>
            <div class="row mb-3">


                <label asp-for="@Model.bookingModel.VenueName" class="col-sm-2 col-form-label"></label>
                <div class="col-sm-10">
                    <input type="text" asp-for="@Model.bookingModel.VenueName" class="form-control" id="inputEndDate" readonly>
                </div>
                    
                <span class="text-danger" asp-validation-for="@Model.bookingModel.VenueName"></span>
                    

            </div>
    <div class="text-center">
        @* <button type="submit" class="btn btn-primary"  value="CheckBookingStatus" asp-area="Booking" asp-controller="Booking" asp-action="CheckBookingStatus">Check Availability</button> *@
        
        @* <button type="submit" class="btn btn-danger" value="Create" asp-area="Booking" asp-controller="Booking" asp-action="Booking">Book Venue</button> *@
        <button type="submit" class="btn btn-primary" value="Check" name="submit">Check Booking Status</button>
                    
                    <button type="submit" class="btn btn-success" value="Book" name="submit" >Book Venue</button>
                    <button type="reset" class="btn btn-secondary">Reset</button>

                </div>
</form>
</div>
</div>
</div>
@section Scripts{
    <partial name="_ValidationScriptsPartial" />
}

